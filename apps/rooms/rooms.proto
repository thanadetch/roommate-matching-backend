syntax = "proto3";

package rooms;

service RoomsService {
  rpc CreateRoom (CreateRoomRequest) returns (RoomResponse);
  rpc GetRoomById (GetRoomByIdRequest) returns (RoomResponse);
  rpc GetRooms (Empty) returns (RoomsListResponse);
  rpc UpdateRoom (UpdateRoomRequest) returns (RoomResponse);
  rpc DeleteRoom (DeleteRoomRequest) returns (Empty);
  rpc BrowseRooms (BrowseRoomsRequest) returns (RoomsListResponse);
}

message CreateRoomRequest {
  string hostId = 1;
  string title = 2;
  string description = 3;
  string location = 4;
  int32 pricePerMonth = 5;
  string rules = 6;
  string availableFrom = 7; // ISO string
  repeated string lifestyle = 8; 
}

message RoomResponse {
  string id = 1;
  string hostId = 2;
  string title = 3;
  string description = 4;
  string location = 5;
  int32 pricePerMonth = 6;
  string rules = 7;
  string availableFrom = 8;
  repeated string lifestyle = 9;
}

message BrowseRoomsRequest {
  string location = 1;    
  int32 minPrice = 2;   
  int32 maxPrice = 3;
  repeated string lifestyle = 4; 
  int32 limit = 5;      
  int32 offset = 6;
}

message GetRoomByIdRequest {
  string id = 1;
}

message UpdateRoomRequest {
  string id = 1;
  string title = 2;
  string description = 3;
  string location = 4;
  int32 pricePerMonth = 5;
  string rules = 6;
  string availableFrom = 7;
  repeated string lifestyle = 8;
}

message DeleteRoomRequest {
  string id = 1;
}

message RoomsListResponse {
  repeated RoomResponse rooms = 1;
}

message Empty {}
